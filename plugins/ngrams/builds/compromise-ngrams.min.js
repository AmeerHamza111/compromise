!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).nlp=t()}(this,(function(){"use strict";var n=4,t=1,r=function(n,t){var r={};return n.forEach((function(n){for(var e=0;e<n.length;e+=1){var o=n.slice(e,e+t);if(o.length===t){var i=o.join(" ");r.hasOwnProperty(i)?r[i].count+=1:r[i]={size:t,count:1}}}})),Object.keys(r).map((function(n){return r[n].normal=n,r[n]}))},e=function(e,o){o.size&&(o.min=o.size,o.max=o.size);for(var i=o.max||n,u=[],a=o.min||t;a<=i;a+=1)u=u.concat(r(e,a));return u},o=4,i=1,u=function(n,t){var r={};return n.forEach((function(n){for(var e=0;e<n.length;e+=1){var o=n.slice(0,e);if(o.length===t){var i=o.join(" ");r.hasOwnProperty(i)?r[i].count+=1:r[i]={size:t,count:1}}}})),Object.keys(r).map((function(n){return r[n].normal=n,r[n]}))},a=function(n,t){t.size&&(t.min=t.size,t.max=t.size);for(var r=t.max||o,e=[],a=t.min||i;a<=r;a++)e=e.concat(u(n,a));return e},c=4,f=1,s=function(n,t){var r={};return n.forEach((function(n){for(var e=n.length,o=0;o<n.length;o+=1){var i=n.slice(e-o,e);if(i.length===t){var u=i.join(" ");r.hasOwnProperty(u)?r[u].count+=1:r[u]={size:t,count:1}}}})),Object.keys(r).map((function(n){return r[n].normal=n,r[n]}))},m=function(n,t){t.size&&(t.min=t.size,t.max=t.size);for(var r=t.max||c,e=[],o=t.min||f;o<=r;o++)e=e.concat(s(n,o));return e},p=function(n){return n.json({terms:{clean:!0},text:!1}).map((function(n){return n.terms.map((function(n){return n.clean}))}))},v=function(n){return n=n.sort((function(n,t){return n.count>t.count?-1:n.count<t.count?1:n.size>t.size?-1:n.size<t.size?1:0}))};return function(n){n.prototype.ngrams=function(n){var t=p(this),r=e(t,n||{});return r=v(r)},n.prototype.unigrams=function(n){var t=e(p(this),{max:1,min:1});return t=v(t),"number"==typeof n&&(t=t[n]),t},n.prototype.bigrams=function(n){var t=e(p(this),{max:2,min:2});return t=v(t),"number"==typeof n&&(t=t[n]),t},n.prototype.trigrams=function(n){var t=e(p(this),{max:3,min:3});return t=v(t),"number"==typeof n&&(t=t[n]),t},n.prototype.startgrams=function(n){var t=p(this),r=a(t,n||{});return r=v(r)},n.prototype.endgrams=function(n){var t=p(this),r=m(t,n||{});return r=v(r)}}}));
