{"version":3,"file":"compromise-nouns.js","sources":["../src/index.js"],"sourcesContent":["const toPlural = require('./toPlural')\n\nconst addMethod = function(Doc) {\n  /**  */\n  class Nouns extends Doc {\n    isPlural() {}\n    hasPlural() {}\n    toPlural() {\n      let transform = this.world.transforms\n      this.list.map(noun => {\n        let str = noun.text('normal').trim()\n        let plural = transform.nouns(str)\n        let phrase = this.fromText(plural).list[0]\n        return noun.replace(phrase, this)\n      })\n      // return toPlural(this)\n    }\n    toSingular() {}\n    toPossessive() {}\n    // articles() {} //?\n  }\n\n  Doc.prototype.nouns = function(n) {\n    let match = this.clauses()\n    match = match.match('#Noun+ (of|by)? the? #Noun+?')\n    //nouns that we don't want in these results, for weird reasons\n    match = match.not('#Pronoun')\n    match = match.not('(there|these)')\n    match = match.not('(#Month|#WeekDay)') //allow Durations, Holidays\n    // //allow possessives like \"spencer's\", but not generic ones like,\n    match = match.not('(my|our|your|their|her|his)')\n    match = match.not('(of|for|by|the)$')\n\n    // match = match.splitAfter('@hasComma')\n\n    if (typeof n === 'number') {\n      match = match.get(n)\n    }\n    return new Nouns(match.list, this, this.world)\n  }\n  return Doc\n}\nmodule.exports = addMethod\n"],"names":["addMethod","Doc","Nouns","transform","world","transforms","list","map","noun","str","text","trim","plural","nouns","phrase","fromText","replace","prototype","n","match","clauses","not","get"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAASC,GAAT,EAAc;;EAAA,MAExBC,KAFwB;EAAA;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;EAAA,iCAGjB;EAHiB;EAAA;EAAA,kCAIhB;EAJgB;EAAA;EAAA,iCAKjB;EAAA;;EACT,YAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWC,UAA3B;EACA,aAAKC,IAAL,CAAUC,GAAV,CAAc,UAAAC,IAAI,EAAI;EACpB,cAAIC,GAAG,GAAGD,IAAI,CAACE,IAAL,CAAU,QAAV,EAAoBC,IAApB,EAAV;EACA,cAAIC,MAAM,GAAGT,SAAS,CAACU,KAAV,CAAgBJ,GAAhB,CAAb;;EACA,cAAIK,MAAM,GAAG,KAAI,CAACC,QAAL,CAAcH,MAAd,EAAsBN,IAAtB,CAA2B,CAA3B,CAAb;;EACA,iBAAOE,IAAI,CAACQ,OAAL,CAAaF,MAAb,EAAqB,KAArB,CAAP;EACD,SALD,EAFS;EASV;EAd2B;EAAA;EAAA,mCAef;EAfe;EAAA;EAAA,qCAgBb,EAhBa;;EAAA;;EAAA;EAAA,IAEVb,GAFU;;EAoB9BA,EAAAA,GAAG,CAACgB,SAAJ,CAAcJ,KAAd,GAAsB,UAASK,CAAT,EAAY;EAChC,QAAIC,KAAK,GAAG,KAAKC,OAAL,EAAZ;EACAD,IAAAA,KAAK,GAAGA,KAAK,CAACA,KAAN,CAAY,8BAAZ,CAAR,CAFgC;;EAIhCA,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,UAAV,CAAR;EACAF,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,eAAV,CAAR;EACAF,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,mBAAV,CAAR,CANgC;;;EAQhCF,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,6BAAV,CAAR;EACAF,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,kBAAV,CAAR,CATgC;;EAahC,QAAI,OAAOH,CAAP,KAAa,QAAjB,EAA2B;EACzBC,MAAAA,KAAK,GAAGA,KAAK,CAACG,GAAN,CAAUJ,CAAV,CAAR;EACD;;EACD,WAAO,IAAIhB,KAAJ,CAAUiB,KAAK,CAACb,IAAhB,EAAsB,IAAtB,EAA4B,KAAKF,KAAjC,CAAP;EACD,GAjBD;;EAkBA,SAAOH,GAAP;EACD,CAvCD;;EAwCA,OAAc,GAAGD,SAAjB;;;;;;;;"}