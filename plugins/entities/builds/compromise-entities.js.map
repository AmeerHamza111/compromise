{"version":3,"file":"compromise-entities.js","sources":["../src/people.js","../src/place.js","../src/organization.js","../src/index.js"],"sourcesContent":["const addMethod = function(Doc) {\n  /**  */\n  class People extends Doc {\n    // honorifics(){}\n    // firstNames(){}\n    // lastNames(){}\n    // pronouns(){}\n    // toPronoun(){}\n    // fromPronoun(){}\n  }\n\n  Doc.prototype.people = function(n) {\n    let match = this.splitAfter('@hasComma')\n    match = match.match('#Person+')\n\n    //grab (n)th result\n    if (typeof n === 'number') {\n      match = match.get(n)\n    }\n    return new People(match.list, this, this.world)\n  }\n  return Doc\n}\nmodule.exports = addMethod\n","const addMethod = function(Doc) {\n  /**  */\n  class Places extends Doc {\n    // regions(){}\n  }\n\n  Doc.prototype.places = function(n) {\n    let m = this.splitAfter('@hasComma')\n    m = m.match('#Place+')\n\n    //grab (n)th result\n    if (typeof n === 'number') {\n      m = m.get(n)\n    }\n    return new Places(m.list, this, this.world)\n  }\n  return Doc\n}\nmodule.exports = addMethod\n","const addMethod = function(Doc) {\n  /**  */\n  class Organizations extends Doc {\n    // normalize(){}\n  }\n\n  Doc.prototype.organizations = function(n) {\n    let match = this.clauses()\n    match = match.match('#Organization+')\n\n    //grab (n)th result\n    if (typeof n === 'number') {\n      match = match.get(n)\n    }\n    return new Organizations(match.list, this, this.world)\n  }\n  return Doc\n}\nmodule.exports = addMethod\n","const methods = [require('./people'), require('./place'), require('./organization')]\n\n//add them all in\nconst addMethods = function(Doc, world) {\n  //\n  world.addTags({\n    Address: {\n      isA: 'Place',\n    },\n    School: {\n      isA: 'Organization',\n    },\n    Company: {\n      isA: 'Organization',\n    },\n  })\n  //\n  world.postProcess(doc => {\n    // addresses\n    doc.match('#Value #Noun (st|street|rd|road|crescent|way)').tag('Address')\n    // schools\n    doc.match('#Noun+ (public|private) school').tag('School')\n  })\n\n  methods.forEach(fn => fn(Doc))\n\n  //combine them with .topics() method\n  Doc.prototype.entities = function(n) {\n    let r = this.splitAfter('@hasComma')\n    // Find people, places, and organizations\n    let yup = r.people()\n    yup = yup.concat(r.places())\n    yup = yup.concat(r.organizations())\n    let ignore = ['someone', 'man', 'woman', 'mother', 'brother', 'sister', 'father']\n    yup = yup.not(ignore)\n    //return them to normal ordering\n    yup.sort('chronological')\n    // yup.unique() //? not sure\n    if (typeof n === 'number') {\n      yup = yup.get(n)\n    }\n    return yup\n  }\n  //aliases\n  Doc.prototype.things = Doc.prototype.entities\n  Doc.prototype.topics = Doc.prototype.entities\n}\n\nmodule.exports = addMethods\n"],"names":["addMethod","Doc","People","prototype","people","n","match","splitAfter","get","list","world","Places","places","m","Organizations","organizations","clauses","methods","require$$0","require$$1","require$$2","addMethods","addTags","Address","isA","School","Company","postProcess","doc","tag","forEach","fn","entities","r","yup","concat","ignore","not","sort","things","topics"],"mappings":"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"}