!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).nlp=t()}(this,(function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var i={Participle:[{reg:/own$/i,to:"ow"},{reg:/(.)un([g|k])$/i,to:"$1in$2"}],Actor:[{reg:/(er)er$/i,to:"$1"}],PresentTense:[{reg:/(..)(ies)$/i,to:"$1y"},{reg:/(tch|sh)es$/i,to:"$1"},{reg:/(ss|zz)es$/i,to:"$1"},{reg:/([tzlshicgrvdnkmu])es$/i,to:"$1e"},{reg:/(n[dtk]|c[kt]|[eo]n|i[nl]|er|a[ytrl])s$/i,to:"$1"},{reg:/(ow)s$/i,to:"$1"},{reg:/(op)s$/i,to:"$1"},{reg:/([eirs])ts$/i,to:"$1t"},{reg:/(ll)s$/i,to:"$1"},{reg:/(el)s$/i,to:"$1"},{reg:/(ip)es$/i,to:"$1e"},{reg:/ss$/i,to:"ss"},{reg:/s$/i,to:""}],Gerund:[{reg:/pping$/i,to:"p"},{reg:/lling$/i,to:"ll"},{reg:/tting$/i,to:"t"},{reg:/dding$/i,to:"d"},{reg:/ssing$/i,to:"ss"},{reg:/(..)gging$/i,to:"$1g"},{reg:/([^aeiou])ying$/i,to:"$1y"},{reg:/([^ae]i.)ing$/i,to:"$1e"},{reg:/(ea.)ing$/i,to:"$1"},{reg:/(u[rtcb]|[bdtpkg]l|n[cg]|a[gdkvtc]|[ua]s|[dr]g|yz|o[rlsp]|cre)ing$/i,to:"$1e"},{reg:/(ch|sh)ing$/i,to:"$1"},{reg:/(..)ing$/i,to:"$1"}],PastTense:[{reg:/(ued)$/i,to:"ue"},{reg:/a([^aeiouy])ed$/i,to:"a$1e"},{reg:/([aeiou]zz)ed$/i,to:"$1"},{reg:/(e|i)lled$/i,to:"$1ll"},{reg:/(.)(sh|ch)ed$/i,to:"$1$2"},{reg:/(tl|gl)ed$/i,to:"$1e"},{reg:/(um?pt?)ed$/i,to:"$1"},{reg:/(ss)ed$/i,to:"$1"},{reg:/pped$/i,to:"p"},{reg:/tted$/i,to:"t"},{reg:/(..)gged$/i,to:"$1g"},{reg:/(..)lked$/i,to:"$1lk"},{reg:/([^aeiouy][aeiou])ked$/i,to:"$1ke"},{reg:/(.[aeiou])led$/i,to:"$1l"},{reg:/(..)(h|ion|n[dt]|ai.|[cs]t|pp|all|ss|tt|int|ail|ld|en|oo.|er|k|pp|w|ou.|rt|ght|rm)ed$/i,to:"$1$2"},{reg:/(.ut)ed$/i,to:"$1e"},{reg:/(.pt)ed$/i,to:"$1"},{reg:/(us)ed$/i,to:"$1e"},{reg:/(..[^aeiouy])ed$/i,to:"$1e"},{reg:/(..)ied$/i,to:"$1y"},{reg:/(.o)ed$/i,to:"$1o"},{reg:/(..i)ed$/i,to:"$1"},{reg:/(.a[^aeiou])ed$/i,to:"$1"},{reg:/([rl])ew$/i,to:"$1ow"},{reg:/([pl])t$/i,to:"$1t"}]},o={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","own","unk","ung","en"],PastTense:["ed","lt","nt","pt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"]},s=o=Object.keys(o).reduce((function(e,t){return o[t].forEach((function(r){return e[r]=t})),e}),{}),a=function(e){if(e.has("#PastTense"))return"PastTense";if(e.has("#Gerund"))return"Gerund";if(e.has("#PresentTense"))return"PresentTense";if(e.has("#Participle"))return"Participle";if(e.has("#Actor"))return"Actor";var t=e.out("normal"),r=t.substr(t.length-3);if(!0===s.hasOwnProperty(r))return s[r];var n=t.substr(t.length-2);return s.hasOwnProperty(!0===n)?s[n]:"s"===t.substr(t.length-1)?"PresentTense":null},u=function(e,t){var r=e.verb,n=r.out("normal");if(r.has("#Infinitive"))return n;if(!0===t.lexicon.hasOwnProperty(n))for(var o=t.irregulars.verbs,s=Object.keys(o),u=0;u<s.length;u++)for(var l=Object.keys(o[s[u]]),c=0;c<l.length;c++)if(n===o[s[u]][l[c]])return s[u];var f=a(r);if(f&&i[f])for(var g=0;g<i[f].length;g++){var $=i[f][g];if(!0===$.reg.test(n))return n.replace($.reg,$.to)}return n},l=function(e){var t={PastTense:"was",PresentTense:"is",FutureTense:"will be",Infinitive:"is",Gerund:"being",Actor:"",PerfectTense:"been",Pluperfect:"been"};return e.negative.found&&(t.PastTense+=" not",t.PresentTense+=" not",t.FutureTense="will not be",t.Infinitive+=" not",t.PerfectTense="not "+t.PerfectTense,t.Pluperfect="not "+t.Pluperfect,t.Gerund="not "+t.Gerund),t},c=function(e,t){var r=e.verb;if(r.has("#Copula")||"be"===r.out("normal")&&e.auxiliary.has("will"))return l(e);var n=u(e,t),i=t.transforms.verbs(n,t);i.Infinitive=n;var o=e.negative.found;return o&&(i.PastTense="did not "+i.Infinitive,i.PresentTense="does not "+i.Infinitive,i.Gerund="not "+i.Gerund),i.FutureTense||(i.FutureTense=o?"will not "+i.Infinitive:"will "+i.Infinitive),o&&(i.Infinitive="not "+i.Infinitive),i},f=function(e,t){e.negative.found||(e.auxiliary.found?e.auxiliary.append("not"):e.verb.has("#Copula")&&e.verb.append("not"))},g=function(e){return{adverb:e.match("#Adverb+"),negative:e.match("#Negative"),auxiliary:e.match("#Auxiliary"),particle:e.match("#Particle"),verb:e.match("#Verb").not("(#Adverb|#Negative|#Auxiliary|#Particle)")}};return function(i){var o=function(i){function o(e,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n(this,t(o).call(this,e,r,i))}var s,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(o,i),s=o,(a=[{key:"adverbs",value:function(){var e=[];return this.forEach((function(t){var r=g(t).adverb;r.found&&(e=e.concat(r.list))})),this.buildFrom(e)}},{key:"conjugations",value:function(){var e=this,t=[];return this.forEach((function(r){var n=g(r),i=c(n,e.world);t.push(i)})),t}},{key:"isNegative",value:function(){return this.if("#Negative")}},{key:"isPositive",value:function(){return this.ifNo("#Negative")}},{key:"toNegative",value:function(){var e=this;return this.list.forEach((function(t){var r=e.buildFrom([t]),n=g(r);f(n,r.world)})),this}},{key:"toPositive",value:function(){return this.remove("#Negative")}},{key:"toPastTense",value:function(){var e=this.world.transforms;return this.map((function(t){var r=g(t).verb.out("normal");return e.verbs(r).PastTense?(t.list[0],t):t}))}}])&&e(s.prototype,a),u&&e(s,u),o}(i);return i.prototype.verbs=function(e){var t=this.match("(#Adverb|#Auxiliary|#Verb|#Negative|#Particle)+");return t=t.if("#Verb"),"number"==typeof e&&(t=t.get(e)),new o(t.list,this,this.world)},i}}));
